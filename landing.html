<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>EcoFinds - Landing Page</title>
  <link rel="stylesheet" href="assets/css/styles.css">
  <style>
    /* Layout Improvements */
    .filters {
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
      margin: 20px 0;
      align-items: center;
    }
    .filters label {
      font-weight: bold;
    }
    .product-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
    }
    .product-card {
      border: 1px solid #ddd;
      padding: 15px;
      border-radius: 10px;
      background: #fff;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    .product-card:hover {
      transform: scale(1.05);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }
    .empty-message {
      display: none;
      text-align: center;
      font-size: 1.2em;
      color: #555;
      margin-top: 20px;
    }
    .reset-btn {
      background: #f44336;
      color: white;
      border: none;
      padding: 8px 15px;
      border-radius: 5px;
      cursor: pointer;
    }
    .reset-btn:hover {
      background: #d32f2f;
    }
  </style>
</head>
<body>
  <!-- Navigation Bar -->
  <nav>
    <ul>
      <li><a href="index.html">Home</a></li>
      <li><a href="browse.html">Browse</a></li>
      <li><a href="listing.html">Listings</a></li>
      <li><a href="sell.html">Sell Product</a></li>
      <li><a href="about.html">About</a></li>
      <li><a href="contact.html">Contact</a></li>
      <li><a href="profile.html">Profile</a></li>
      <li><a href="history.html">History</a></li>
      <li><a href="cart.html">Cart</a></li>
      <li><a href="auth/logout.html">Logout</a></li>
    </ul>
  </nav>

  <!-- Filters Section -->
  <div class="filters">
    <!-- Search -->
    <input type="text" id="searchBar" placeholder="Search products..." style="flex:1; padding: 10px; border-radius: 8px; border: 1px solid #ccc;">

    <!-- Category -->
    <label for="categoryFilter">Category:</label>
    <select id="categoryFilter" style="padding: 5px; border-radius: 5px;">
      <option value="all">All</option>
      <option value="clothing">Clothing</option>
      <option value="home">Home</option>
      <option value="stationery">Stationery</option>
      <option value="personal">Personal Care</option>
      <option value="accessories">Accessories</option>
    </select>

    <!-- Price -->
    <label>Price:</label>
    <input type="number" id="minPrice" placeholder="Min $" style="width: 80px; padding: 5px;">
    <input type="number" id="maxPrice" placeholder="Max $" style="width: 80px; padding: 5px;">

    <!-- Sort -->
    <label for="sortOptions">Sort:</label>
    <select id="sortOptions" style="padding: 5px; border-radius: 5px;">
      <option value="default">Default</option>
      <option value="priceLow">Price: Low to High</option>
      <option value="priceHigh">Price: High to Low</option>
      <option value="nameAZ">Name: A → Z</option>
      <option value="nameZA">Name: Z → A</option>
    </select>

    <!-- Reset -->
    <button class="reset-btn" id="resetBtn">Reset</button>
  </div>

  <h2>Featured Products</h2>
  <div class="product-grid" id="productGrid">
    <div class="product-card" data-category="home" data-price="15">
      <h3>Recycled Planter</h3>
      <p>Eco-friendly planter made from recycled plastic.</p>
      <p><strong>$15</strong></p>
    </div>
    <div class="product-card" data-category="clothing" data-price="25">
      <h3>Organic Cotton Shirt</h3>
      <p>Soft t-shirt made from 100% organic cotton.</p>
      <p><strong>$25</strong></p>
    </div>
    <div class="product-card" data-category="stationery" data-price="8">
      <h3>Upcycled Notebook</h3>
      <p>Notebook with cover made from reclaimed materials.</p>
      <p><strong>$8</strong></p>
    </div>
    <div class="product-card" data-category="personal" data-price="5">
      <h3>Handmade Soap</h3>
      <p>Natural soap bars crafted without harmful chemicals.</p>
      <p><strong>$5</strong></p>
    </div>
    <div class="product-card" data-category="home" data-price="40">
      <h3>Recycled Glass Vase</h3>
      <p>Elegant vase made from recycled glass bottles.</p>
      <p><strong>$40</strong></p>
    </div>
    <div class="product-card" data-category="accessories" data-price="20">
      <h3>Compostable Phone Case</h3>
      <p>Durable phone case that is 100% compostable.</p>
      <p><strong>$20</strong></p>
    </div>
  </div>

  <!-- Empty state -->
  <div class="empty-message" id="emptyMessage">No products found. Try adjusting your filters.</div>

  <!-- Filtering + Sorting Script -->
  <script>
    const searchBar = document.getElementById("searchBar");
    const categoryFilter = document.getElementById("categoryFilter");
    const minPrice = document.getElementById("minPrice");
    const maxPrice = document.getElementById("maxPrice");
    const sortOptions = document.getElementById("sortOptions");
    const resetBtn = document.getElementById("resetBtn");
    const productGrid = document.getElementById("productGrid");
    const emptyMessage = document.getElementById("emptyMessage");
    let products = Array.from(document.querySelectorAll(".product-card"));

    function updateProducts() {
      const query = searchBar.value.toLowerCase();
      const category = categoryFilter.value;
      const min = parseFloat(minPrice.value) || 0;
      const max = parseFloat(maxPrice.value) || Infinity;
      const option = sortOptions.value;

      let filtered = products.filter(product => {
        const text = product.innerText.toLowerCase();
        const price = parseFloat(product.dataset.price);

        const matchesSearch = text.includes(query);
        const matchesCategory = category === "all" || product.dataset.category === category;
        const matchesPrice = price >= min && price <= max;

        return matchesSearch && matchesCategory && matchesPrice;
      });

      if (option === "priceLow") {
        filtered.sort((a, b) => a.dataset.price - b.dataset.price);
      } else if (option === "priceHigh") {
        filtered.sort((a, b) => b.dataset.price - a.dataset.price);
      } else if (option === "nameAZ") {
        filtered.sort((a, b) => a.querySelector("h3").innerText.localeCompare(b.querySelector("h3").innerText));
      } else if (option === "nameZA") {
        filtered.sort((a, b) => b.querySelector("h3").innerText.localeCompare(a.querySelector("h3").innerText));
      }

      productGrid.innerHTML = "";
      filtered.forEach(product => productGrid.appendChild(product));

      emptyMessage.style.display = filtered.length ? "none" : "block";
    }

    // Reset all filters
    function resetFilters() {
      searchBar.value = "";
      categoryFilter.value = "all";
      minPrice.value = "";
      maxPrice.value = "";
      sortOptions.value = "default";
      updateProducts();
    }

    // Event Listeners
    [searchBar, categoryFilter, minPrice, maxPrice, sortOptions].forEach(el => {
      el.addEventListener("input", updateProducts);
      el.addEventListener("change", updateProducts);
    });
    resetBtn.addEventListener("click", resetFilters);

    // Initial render
    updateProducts();
  </script>
</body>
</html>
